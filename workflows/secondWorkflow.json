{
  "stateMachine": {
    "id": "dockerScript",
    "initial": "startMongoDB",
    "context": {
      "dataToPass": null,
      "containers": [
        {
          "name": "mongodb",
          "config": {
            "dockerfile": "MongoDB",
            "containerName": "my_mongodb_container",
            "dockerFileName": "mongoDBImage",
            "dockerImage": "mongo:latest",
            "exposedPorts": {"27017/tcp": {}},
            "HostConfig": { "PortBindings": {"27017/tcp": [{"HostPort": "27017"}]}},
            "network": "bridge",
            "arguments": {
              "ENV_VAR1": "value1",
              "ENV_VAR2": "value2"
            }
          }
        },
        {
          "name": "amass",
          "config": {
            "dockerfile": "Nginx",
            "containerName": "nginx_container",
            "dockerFileName": "nginxImage",
            "dockerImage": "nginx:latest",
            "exposedPorts": {"8080/tcp": {}},
            "HostConfig": { "PortBindings": {"8080/tcp": [{"HostPort": "8080"}]}},
            "network": "bridge",
            "arguments": {
              "ENV_VAR1": "value1",
              "ENV_VAR2": "value2"
            }
          }
        }
      ]
    },
    "states": {
      "startMongoDB": {
        "entry": [
          {
            "type": "startContainer",
            "container": "mongodb"
          }
        ],
        "on": {
          "NEXT": "startNginx"
        }
      },
      "startNginx": {
        "entry": [
          {
            "type": "startContainer",
            "container": "amass"
          }
        ],
        "on": {
          "NEXT": "running"
        }
      },
      "running": {
        "type": "final"
      }
    }
  }
}
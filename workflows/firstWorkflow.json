{
  "meta": {

  },
  "workflow": [
    {
      "type": "container",
      "name": "mongodb",
      "blocking": true,
      "config": {
        "dockerfile": "MongoDB",
        "containerName": "my_mongodb_container",
        "dockerFileName": "mongoDBImage",
        "dockerImage": "mongo:latest",
        "exposedPorts": {"27017/tcp": {}},
        "HostConfig": { "PortBindings": {"27017/tcp": [{"HostPort": "27017"}]}},
        "network": "bridge",
        "arguments": {
          "ENV_VAR1": "value1",
          "ENV_VAR2": "value2"
        }
      }
    },
    {
      "type": "container",
      "name": "amass",
      "blocking": true,
      "config": {
        "dockerfile": "Nginx",
        "containerName": "nginx_container",
        "dockerFileName": "nginxImage",
        "dockerImage": "nginx:latest",
        "exposedPorts": {"8080/tcp": {}},
        "HostConfig": { "PortBindings": {"8080/tcp": [{"HostPort": "8080"}]}},
        "network": "bridge",
        "arguments": {
          "ENV_VAR1": "value1",
          "ENV_VAR2": "value2"
        }
      }
    }
  ],
  "pullingImages": {
    "invoke": {
      "src": "pullImages",
      "onDone": {
        "actions": "updateMeta",
        "target": "startingMongoDB"
      }
    }
  },
  "checkingMongoDB": {
    "invoke": {
      "src": "checkMongoDBReady",
      "onDone": "startingNginx"
    }
  },
  "startingNginx": {
    "invoke": {
      "src": "startNginx",
      "onDone": "connectingAndInsertingDocument"
    }
  },
  "connectingAndInsertingDocument": {
    "invoke": {
      "src": "connectAndInsertDocument",
      "onDone": {
        "target": "running"
      }
    }
  }
}